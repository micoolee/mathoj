<!--question.wxml-->
<view class="container">
  <view class="question-wrp">
    <view class="question-item">
      <view class="que-tag">
        <text class="tag">阅读</text>
      </view>
      <view class="que-title breakline">
        {{desc}}
      </view>

      <view wx:if="{{problempic != 'noimages'}}" style='display:flex;justify-content:center'>
        <view wx:if='{{showpic}}' style='display:flex;flex-direction:column;'>
          <view>
            shouqi
            <image class='updown' src='../../images/up.png' bindtap='handlepic'></image>
          </view>
        </view>
        <view wx:else>
          zhankai
          <image class='updown' src='../../images/down.png' bindtap='handlepic'></image>
        </view>

        <image src='{{problempic}}' hidden='{{! showpic}}'></image>

      </view>

      <view class="que-follow">
        <view class="left">
          <view class="watch">
            <image src="../../images/eye.png"></image>
            <text>3316</text>
          </view>
          <view class="comment">
            <image src="../../images/comment2.png"></image>
            <text>27</text>
          </view>
        </view>
        <view class="right" bindtap='subscribe' data-id='{{subscribe_door}}'>
          <view wx:if="{{subscribe_door}}" data-id='{{subscribe_door}}'>
            关注
          </view>
          <view wx:else data-id='{{subscribe_door}}'>
            取消关注
          </view>

        </view>
      </view>
    </view>
    <view>
      <view class='feed-item' style='font-size:20px'>
        教师回答：
      </view>
      <view wx:for="{{answer}}" wx:key="{{item.solutionid}}">
        <view class='feed-item'>
          <text style='font-size:15px'>
                  {{index+1}}:{{item.fields.text}}
          </text>

          <view wx:if="{{item.fields.record}}">
            <audio src="{{item.fields.record}}"></audio>
            <view class='record-controller'>

        <view class='flex-wrp'>
                <view class="progresswrap">
          <slider class="drag" step="10" value="{{curTimeVal}}" max="{{duration}}" backgroundColor="#373636" activeColor="#FF1744" bindchange="slideBar" />
        </view>
        <view class="btns" >
          <view bindtap='play' wx:if="{{tingstate}}" data-recordsrc='{{item.fields.record}}'>
            <image src="/images/start.jpg" style='width:40px;height:40px'></image>
          </view>
          <view bindtap='pause1' wx:else>
            <image src="/images/pause.jpg" style='width:40px;height:40px'></image>
          </view>
        </view>
        
        </view>

            </view>
          </view>
          <view wx:if="{{item.fields.image}}" class='imagestyle'>
            <image src='{{item.fields.image}}'></image>
          </view>
        </view>
      </view>

    </view>

    <view class="que-operate flex-wrp">

      <view class="write flex-item" bindtap='showanswerbox' wx:if='{{hidehuida}}'>
        <image src="../../images/write.png"></image>
        <text>写回答</text>
      </view>
      <view class="invite flex-item">
        <image src="../../images/invite.png"></image>
        <text>邀请回答</text>
      </view>
    </view>



    <view name='teacheranswer' hidden='{{answerbox}}' class='answer-box'>
      <view style='height:100px'>
        <textarea placeholder='qing shu ru' bindinput='textsolu' auto-height auto-focus></textarea>
      </view>
      <button bindtap='takephoto' type='primary'>点我拍照</button>
      <view wx:if="{{recordstate}}">
        <button bindtap='start' type='primary' data-id='{{recordstate}}'>点我录音</button>
      </view>
      <view wx:else>
        <button bindtap='start' type='primary' data-id='{{recordstate}}'>点我结束</button>
      </view>
      <view wx:if="{{showyuansheng}}">
        <view class="progresswrap">
          <slider class="drag" step="10" value="{{curTimeVal}}" max="{{duration}}" backgroundColor="#373636" activeColor="#FF1744" bindchange="slideBar" />
        </view>
        <view class="btns" style='margin-right:45%'>
          <view bindtap='play1' wx:if="{{tingstate}}">
            <image src="/images/start.jpg" style='width:40px;height:40px'></image>
          </view>
          <view bindtap='pause1' wx:else>
            <image src="/images/pause.jpg" style='width:40px;height:40px'></image>
          </view>
        </view>
      </view>



      <button bindtap='submitanswer'>上传</button>
    </view>
  </view>
</view>

<view class="content-comments">

  <view class="comments-box" wx:if="{{comments.length > 0}}">
    <text class="comments-title">最新评论</text>
    <view class="comments-list" wx:for="{{comments}}" wx:key="{{item.commentid}}" wx:for-item="item" wx:for-index="i">
      <view class="comments-avatar">
        <image class="comments-avatar-img" src="{{item.avatar}}" />
      </view>
      <view class="comments-main">
        <view class="comments-author">
          <view class="comments-zan">{{item.zan}}
            <image src="../../images/zan.png" class="extra-share-img" bindtap='dianzan' data-id='{{item.commentid}}' data-problemid='{{problemid}}' data-commenter='{{item.commenter}}'/>
          </view>
          <text>{{item.username}}         {{item.submittime}}</text>
        </view>
        <view class="comments-content breakline-small">{{item.text}}</view>
        <view class="comments-data">{{item.times}}</view>
      </view>
    </view>
  </view>
  <!-- 没有评论 -->
  <view class="not-comments" wx:else> 暂时还没有评论喔! </view>
</view>


<!-- </scroll-view> -->

<!-- 评论 点赞 分享  -->
 <view class="extra">
  <view class="extra-share">

    <image src="../../images/comments.png" class="extra-share-img" bindtap='comment' />

    <image src="../../images/share.png" class="extra-share-img" bindtap="showShare" />
  </view>
  <input class="extra-input" type="text" maxlength="255" placeholder="你有什么看法?" bindinput='writecomment' placeholder-class="extra-placeholder" />
</view> 




<!-- 分享层 -->


<!-- 
<view class="extra-share-box" style="display:{{shareShow}}">

  <view class="share-box-show" animation="{{shareBottom}}">
    <view class="share-box-img-box">
      <image class="share-box-img" bindtap="modalTap" data-share="分享给微信朋友" src="../../images/weixin.png" />
      <image class="share-box-img" bindtap="modalTap" data-share="分享到微信朋友圈" src="../../images/pengyou.png" />
      <image class="share-box-img" bindtap="modalTap" data-share="分享到QQ朋友" src="../../images/qq.png" />
      <image class="share-box-img" bindtap="modalTap" data-share="分享到微博" src="../../images/weibo.png" />
    </view>
    <view class="share-box-close" bindtap="shareClose">关闭</view>
  </view>

  <view class="share-box-opacity" animation="{{shareOpacity}}" bindtap="shareClose"></view>
</view> -->


<!-- 
  点击分享弹出层  -->
<!-- <modal class="modal" hidden="{{modalHidden}}" no-cancel bindconfirm="modalChange">
  <view> {{modalValue}} </view>
</modal>   -->